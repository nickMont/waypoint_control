<launch>
  <node pkg="waypoint_control"
    type="waypoint_control"
    name="waypoint_control_node"
    output="screen">
    <!-- do not change name from waypoint_control_node, this package is coded to look there -->

    <!-- Safety params -->
    <param name="vx_max" value="1.5"/>
    <param name="vy_max" value="1.5"/>
    <param name="vz_max" value="1.5"/>
    <param name="ax_max" value="0.5"/>
    <param name="ay_max" value="0.5"/>
    <param name="az_max" value="2"/>
    <param name="vmax_for_timing" value="3"/> <!--Used for coarse timing/takeoff/etc -->
    <param name="vmax_real" value="4"/> <!-- Used to determine need for intermediate waypoints -->
    <param name="waypointHitDist" value="0.0"/> <!-- Must be this close to record passage through wpt -->
        <!-- Set wptHitDist=0 to enable timing option -->

    <!-- PATH FOLLOWING PARAMETERS -->
    <param name="kpX" value="3.8"/>
    <param name="kpY" value="3.8"/>
    <param name="kpZ" value="2.6"/>
    <param name="kdX" value="1.4"/>
    <param name="kdY" value="1.4"/>
    <param name="kdZ" value="1.8"/>
    <param name="kiX" value="0.25"/>
    <param name="kiY" value="0.25"/>
    <param name="kiZ" value="0.3"/>
    <param name="maxInteg_X" value="1.5"/>
    <param name="maxInteg_Y" value="1.5"/>
    <param name="maxInteg_Z" value="1.5"/>
    
    <!-- COPY OF PX4_CONTROL PARAMETERS  (this node changes between original gains and PF gains and needs to know all of it to udpate properly) -->
    <param name="mass" value="0.7762"/>       <!-- kg -->
    <param name="gz" value="9.81"/>          <!-- m/s^2 -->
    <param name="thrustRatio" value="1.5"/>  <!-- maxThrust/Weight -->
    <param name="kpX_p" value="3.5"/>
    <param name="kpY_p" value="3.5"/>
    <param name="kpZ_p" value="2.3"/>
    <param name="kdX_p" value="2.2"/>
    <param name="kdY_p" value="2.2"/>
    <param name="kdZ_p" value="1.8"/>
    <param name="kiX_p" value="0.25"/>
    <param name="kiY_p" value="0.25"/>
    <param name="kiZ_p" value="0.3"/>
    <param name="maxInteg_X_p" value="1.5"/>
    <param name="maxInteg_Y_p" value="1.5"/>
    <param name="maxInteg_Z_p" value="1.5"/>

    <!-- Arena parameters -->
    <param name="xCenter" value="0.0"/> <!-- dist btwn origin of arena center and takeoff location -->
    <param name="yCenter" value="0.0"/>
    <param name="zCenter" value="0.0"/>
    <!-- NOTE: gps_kf sets initial pose/vel to 0 -->

    <!-- Misc parameters -->
    <param name="quadName" type="string" value="Valkyrie"/>
    <param name="quadPoseTopic" type="string" value="Valkyrie/local_odom"/>
    <param name="quadWaypointTopic" type="string" value="Valkyrie/refPose1"/> <!-- topic for single wpts -->
    <param name="quadWaypointListTopic" type="string" value="PosControl/PVATrajectory/Quad1"/> <!-- topic for lists of wpts -->
    <param name="joyTopic" type="string" value="joy"/> <!-- topic for joystick data -->
    <param name="publishPVA_Topic" type="string" value="px4_control/PVA_Ref"/>
    <param name="gps_fps" value="20"/>

  </node>
</launch>